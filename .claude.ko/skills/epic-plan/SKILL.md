---
name: epic-plan
description: 에픽 분석 결과를 기반으로 실행 로드맵 생성. epic-analyze 후 실행 순서 확정, 마일스톤 정의, 각 하위 작업의 workflow-analyze 입력 준비 시 사용.
disable-model-invocation: true
---

# 에픽 계획 명령

## 사용자 입력

```text
$ARGUMENTS
```

예상 형식: `/epic-plan 프로젝트명 [추가 요구사항]`

예시:

- `/epic-plan LEGACY-MIGRATION 작업 2는 검증 생략`
- `/epic-plan AUTH-SYSTEM 작업 3 우선 진행`

사용자 입력이 비어있지 않다면 **반드시** 고려해야 합니다.

---

## 개요

1. **사용자 입력 파싱**:
   - $ARGUMENTS 첫 단어에서 프로젝트명 추출
   - 나머지 텍스트에서 추가 요구사항 추출
   - 프로젝트명 누락 시, ERROR: "프로젝트명을 입력하세요: /epic-plan 프로젝트명"

2. **전제조건 확인**:
   - `docs/epic/{프로젝트명}/analysis.md` 존재 확인
   - 미존재 시, ERROR: "/epic-analyze를 먼저 실행하세요"

3. **분석 로드**:
   - analysis.md에서 하위 작업 목록, 의존관계, 리스크 추출
   - 대화에서 사용자 피드백이나 조정 사항 반영

4. **실행 순서 확정**:
   - analysis.md의 페이즈 구조 확인 또는 조정
   - 사용자 피드백 및 추가 요구사항 반영
   - 확인 조건이 있는 구체적 마일스톤 정의

5. **작업별 실행 가이드 작성**:
   - 각 하위 작업에 대해 별도 세션에서 `/workflow-analyze` 실행에 충분한 컨텍스트 작성
   - 포함: 읽어야 할 것, 선행 작업 산출물, 핵심 제약사항
   - 이것이 **핵심 가치** — 독립 세션 간 컨텍스트 연결

6. **문서 작성**:
   - `docs/epic/{프로젝트명}/plan.md` 생성 (한글)

---

## 핵심 규칙

### 📝 문서 작성 언어

**중요**: 모든 문서는 **한글**로 작성해야 합니다.

### 🎯 핵심 목적

**이 문서는 독립 세션 간 컨텍스트를 연결한다.**
각 하위 작업은 별도 Claude Code 세션에서 실행된다. 계획은 각 세션이 사전 지식 없이 시작할 수 있을 만큼 충분한 컨텍스트를 제공해야 한다.

### ✅ 해야 할 것

- analysis.md만 참조 (범위/목표 반복 금지)
- **작업별 실행 가이드**: 콜드 스타트 세션에 충분한 수준
- 확인 조건이 있는 구체적 마일스톤
- 각 작업이 시작 전 읽어야 할 것 명시
- 각 작업이 후속 작업을 위해 생산하는 것 명시
- 진행 추적 체크리스트

### ❌ 하지 말아야 할 것

- 하위 작업 재정의 (analysis.md에 있음)
- 의존관계 그래프 그대로 반복 (참조만)
- 구현 세부사항 과도 명시 (그건 workflow-analyze의 역할)
- analysis.md에 없는 새 하위 작업 추가 (필요하면 epic-analyze로 돌아갈 것)
- 시간/일수 추정

### 🎯 실행 가이드 원칙 (매우 중요)

각 작업의 실행 가이드가 답해야 할 것:

1. **먼저 읽을 것**: 컨텍스트 파악을 위해 로드할 파일/문서
2. **선행 작업 산출물**: 의존 작업이 생산한 것 중 이 작업에 필요한 것
3. **핵심 제약사항**: 반드시 지켜야 할 것 (analysis.md 또는 사용자 피드백에서)
4. **시작 방법**: 컨텍스트가 포함된 정확한 `/workflow-analyze` 호출
5. **이 작업의 산출물**: 후속 작업이 필요로 할 것

### 🔀 병렬 실행 (매우 중요)

**기본값은 순차 실행이다.** 다음 조건을 모두 충족할 때만 병렬로 표시:

1. **공유 파일 없음**: 작업들이 완전히 다른 파일/모듈을 수정
2. **git 충돌 위험 없음**: 두 작업의 브랜치 머지 시 충돌 발생 안 함
3. **논리적 의존 없음**: 한 작업의 설계 결정이 다른 작업에 영향 없음
4. **진정으로 독립된 도메인**: 겹침 없는 코드베이스의 다른 영역

확신이 없으면 → 순차. 불필요한 순차의 비용은 작고(약간 느림), 잘못된 병렬의 비용은 크다(머지 충돌, 재작업, 불일치).

### 📊 마일스톤 설계

- 자연스러운 **체크 포인트**에 마일스톤 정의, 모든 작업 경계마다 X
- 마일스톤 = "이 작업들이 완료된 후, 이 조건을 확인"
- 적게 유지 — 전체 에픽에 보통 2-4개
- 각 마일스톤이 답해야 할 것: "계획대로 진행 중인가, 재계획이 필요한가?"

---

## 문서 템플릿

생성할 파일: `docs/epic/{프로젝트명}/plan.md` (한글)

```markdown
# [프로젝트명] - 실행 계획

> **분석 결과**: `analysis.md` 참조

---

## 실행 순서

**의존관계**: `analysis.md` > 의존관계 섹션 참조

### Phase 1: [이름]

**작업**: [analysis.md의 작업명]
**병렬 가능**: [가능 — 이 페이즈 내 모든 작업이 독립적 / 불가 — 순차 진행 / 부분 — 작업 A, B 병렬 후 작업 C]
**목표**: [이 페이즈 완료 시 달성되는 것]

### Phase 2: [이름]

**작업**: [작업명]
**병렬 가능**: [가능 / 불가 / 부분]
**목표**: [이 페이즈 완료 시 달성되는 것]

### Phase 3: [이름]

**작업**: [작업명]
**병렬 가능**: [가능 / 불가 / 부분]
**목표**: [이 페이즈 완료 시 달성되는 것]

---

## 작업별 실행 가이드

### 작업 1: [이름]

**선행 조건**: 없음 / [작업 N 완료 필요]

**읽어야 할 것**:

- 읽기: [구체적 파일 또는 문서]
- 선행 산출물: [의존 작업이 생산한 것 — 첫 작업이면 "해당 없음"]

**핵심 제약사항**:

- [분석 또는 사용자 피드백에서 온 제약]

**시작 명령**:
```

/workflow-analyze {작업명} [세션을 위한 컨텍스트 요약]

```

**이 작업의 산출물**:

- [후속 작업이 이 작업에서 필요로 할 것]

### 작업 2: [이름]

[동일 구조]

### 작업 N: [이름]

[동일 구조]

---

## 마일스톤

### 마일스톤 1: [이름] (Phase 1 이후)

**확인 조건**: [무엇을 검증할지]
**미충족 시**: [어떻게 할지 — 재계획, 범위 조정 등]

### 마일스톤 2: [이름] (Phase 2 이후)

**확인 조건**: [무엇을 검증할지]
**미충족 시**: [어떻게 할지]

---

## 진행 추적

| 작업     | 상태 | 비고 |
| -------- | ---- | ---- |
| [작업 1] | -    |      |
| [작업 2] | -    |      |

상태: `-` 대기 / `>` 진행중 / `v` 완료 / `x` 블록됨

---

## 빠른 참조: 실행 순서

> 한눈에 보는 요약. 상세 내용은 위 섹션 참조.

1. [작업명] → `/workflow-analyze {이름}`
2. [작업명] → `/workflow-analyze {이름}`
3. [작업명] + [작업명] (병렬) → `/workflow-analyze {이름}`
4. [작업명] → `/workflow-analyze {이름}`

<!-- 모든 작업이 순차적이면 "(병렬)" 표시 생략 -->
<!-- 일부 작업만 병렬이면 해당 항목에만 명시 -->
```

---

## 실행

이제 위 지침에 따라 작업을 시작하세요.
