---
allowed-tools: Bash(git status:*), Bash(git diff:*), Bash(git log:*), Bash(git branch:*)
description: 한국어와 영어로 간결한 커밋 메시지 생성 - 하나를 선택하여 사용
---

# 스마트 Git 커밋 메시지 생성기

한국어와 영어로 커밋 메시지를 생성한다. **한 버전을 선택하여 커밋에 사용한다.**

## 현재 저장소 상태

- Git 상태: !git status --porcelain
- 현재 브랜치: !git branch --show-current
- 스테이징된 변경사항: !git diff --cached --stat
- 스테이징되지 않은 변경사항: !git diff --stat
- 최근 커밋: !git log --oneline -10

## 이 명령의 기능

1. 현재 브랜치명을 확인하여 이슈 번호 감지 (예: develop/shlee/32 → #32)
2. git status로 스테이징된 파일 확인
3. git diff를 수행하여 커밋될 변경사항 파악
4. 한국어와 영어로 간결한 커밋 메시지 생성
5. 브랜치명이 숫자로 끝나면 "fix #N" 추가
6. **commit_message.md 파일로 저장하여 복사하기 편리하게 제공**

## 커밋 메시지 형식 가이드라인

**핵심 원칙: 무엇을 했는지보다 무슨 문제를 해결했는지에 집중**

**제목 작성 원칙: 사용자 관점에서 겪는 문제를 우선적으로 표현**

- ❌ "빈 로그인 폼 제출 오류 수정" (코드 관점)
- ✅ "로그인 버튼 클릭 시 반응 없는 문제 수정" (사용자 관점)
- ❌ "null 포인터 예외 처리" (기술적 관점)
- ✅ "프로필 페이지 접근 시 앱 종료되는 문제 수정" (사용자 관점)

간단하고 간결하게 작성. 복잡도에 따라 적절한 형식 사용:

### 매우 간단한 변경사항

```
[문제 상황] 제목
```

### 간단한 변경사항

```
[문제 상황] 제목

무슨 문제가 있었고 어떻게 해결했는지 한두 줄로 설명
```

### 표준 변경사항

```
[문제 상황] 제목

발생한 문제 상황 설명
(재현 가능하면 간단한 재현 방법)

해결 방법과 그 근거를 문장으로 설명
```

### 복잡한 변경사항 (드물게 필요)

```
[문제 상황] 제목

문제:
- 구체적인 문제 상황 설명
- 재현 방법 (있다면 간략히)

해결책:
- 어떤 접근으로 해결했고 왜 그 방법을 선택했는지
- 추가로 적용한 해결 방법과 근거
```

**중요한 형식 규칙:**

- 첫 줄(제목): 사용자가 경험하는 문제를 명확히 표현
- 가능한 한 사용자 관점 > 코드/기술 관점으로 작성
- 아주 간단한 케이스 제외하고 단순히 변경사항 나열 금지 - 문장으로 설명
- 해결 방법 설명 시 근거와 이유 포함
- 설명은 간결하게 - 장황한 설명을 피한다
- 브랜치명이 숫자로 끝나면 (예: develop/32, develop/shlee/32) 끝에 "fix #N"을 추가한다
- **여러 변경사항/이유가 있을 때는 불릿 포인트(-)를 사용하여 가독성 향상**

## 예시

### 매우 간단

```
README 오타 수정
```

### 간단

```
로그인 버튼 클릭 시 반응 없는 문제 수정

빈 입력 필드로 로그인 시도 시 아무 반응이 없던 문제를
클라이언트 측 검증과 에러 메시지 표시로 해결
```

**여러 변경사항/이유가 있을 때는 리스트 형식 사용:**

```
백엔드 아키텍트 에이전트 역할 재정의

- API 설계 중심에서 시스템 구조 설계 중심으로 역할 변경
- 도메인 모델링, 계층 아키텍처, 모듈화 전략에 집중하도록 수정
```

### 표준

```
사용자 목록 페이지 로딩 실패 문제 해결

사용자가 1000명 이상일 때 목록 페이지가 계속 로딩 중으로 표시
(재현: 사용자 목록 > 전체 보기 클릭 시)

데이터베이스에 복합 인덱스 추가와 Redis 캐싱으로
30초 이상 걸리던 응답을 2초 이내로 개선

fix #32
```

### 복잡 (드물게)

```
서비스 업데이트 시 자동 로그아웃되는 문제 수정

문제:
- 새 버전 배포할 때마다 모든 사용자가 강제 로그아웃됨
- 작업 중인 내용이 저장되지 않아 사용자 불편 호소

해결책:
- 메모리 세션을 Redis로 마이그레이션하여 배포 시에도 세션 유지
- JWT 리프레시 토큰으로 자동 재인증하여 끊김 없는 서비스 제공
```

## 출력 형식

명령이 제공하는 내용:

1. 스테이징된 변경사항 분석 (없으면 모든 변경사항)
2. **commit_message.md 파일 생성** - 한국어와 영어 버전 모두 포함
3. 파일에서 원하는 버전을 복사하여 사용

## 중요 사항

- 이 명령은 커밋 메시지만 생성하며 - 실제 커밋은 수행하지 않는다
- **commit_message.md 파일에 두 버전 모두 저장** - 원하는 것 선택하여 사용
- **문제 상황에 집중** - 단순 변경사항 나열 금지
- 해결 방법 설명 시 **왜 그렇게 했는지** 근거 포함
- 메시지는 간결하게 - 코드에서 명백한 내용은 과도하게 설명하지 않는다
- 브랜치 이슈 번호(예: develop/32)는 자동으로 "fix #N"을 추가한다
- 생성된 파일에서 메시지 복사 후 `git commit`을 수동으로 실행
